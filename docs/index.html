<!DOCTYPE html>
<html lang="ja-jp">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>hata6502 Tech Blog</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.78.2" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    
    
      <link href="/dist/css/app.4fc0b62e4b82c997bb0041217cd6b979.css" rel="stylesheet">
    

    

    
      

    

    
    
      <link href="/index.xml" rel="alternate" type="application/rss+xml" title="hata6502 Tech Blog" />
      <link href="/index.xml" rel="feed" type="application/rss+xml" title="hata6502 Tech Blog" />
      
    
    
    <meta property="og:title" content="hata6502 Tech Blog" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://b-hood.site/" />

<meta itemprop="name" content="hata6502 Tech Blog">
<meta itemprop="description" content="">
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="hata6502 Tech Blog"/>
<meta name="twitter:description" content=""/>

	
  </head>

  <body class="ma0 avenir bg-near-white">

    

  <header>
    <div class="pb3-m pb6-l bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        hata6502 Tech Blog
      
    </a>
    <div class="flex-l items-center">
      

      
      















    </div>
  </div>
</nav>

      <div class="tc-l pv3 ph3 ph4-ns">
        <h1 class="f2 f-subheadline-l fw2 light-silver mb0 lh-title">
          hata6502 Tech Blog
        </h1>
        
      </div>
    </div>
  </header>


    <main class="pb7" role="main">
      
  <article class="cf ph3 ph5-l pv3 pv4-l f4 tc-l center measure-wide lh-copy mid-gray">
    
  </article>
  
  
  
  
  
  
  
    
    

    <div class="pa3 pa4-ns w-100 w-70-ns center">
      
       
          <h1 class="flex-none">
            Recent Articles
          </h1>
        

      

      <section class="w-100 mw8">
        
        
          <div class="relative w-100 mb4">
            
<article class="bb b--black-10">
  <div class="db pv4 ph3 ph0-l no-underline dark-gray">
    <div class="flex flex-column flex-row-ns">
      
      <div class="blah w-100">
        <h1 class="f3 fw1 athelas mt0 lh-title">
          <a href="https://b-hood.site/articles/editor-js-grid/" class="color-inherit dim link">
            How to make grid layout in Editor.js
            </a>
        </h1>
        <div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
          &lt;ins class=&ldquo;adsbygoogle&rdquo; style=&ldquo;display:block&quot;ｌｓ data-ad-client=&ldquo;ca-pub-7008780049786244&rdquo; data-ad-slot=&ldquo;5063315418&rdquo; data-ad-format=&ldquo;auto&rdquo; data-full-width-responsive=&ldquo;true&rdquo;&gt;Use Editor.js more flexibly Editor.js is one of block editors. The article data format is JSON not HTML, so it can manage article data more cleanly and formally.
Editor.js can&rsquo;t nest blocks to keep simplicity. So it is useful for general articles that blogs, news and so on. But difficult for special layout that landing page and so on.
Therefore, I published a grid layout plugin for Editor.
        </div>
          <a href="https://b-hood.site/articles/editor-js-grid/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
        
      </div>
    </div>
  </div>
</article>

          </div>
        
          <div class="relative w-100 mb4">
            
<article class="bb b--black-10">
  <div class="db pv4 ph3 ph0-l no-underline dark-gray">
    <div class="flex flex-column flex-row-ns">
      
      <div class="blah w-100">
        <h1 class="f3 fw1 athelas mt0 lh-title">
          <a href="https://b-hood.site/articles/trimrate/" class="color-inherit dim link">
            ImageMagickで16:9トリミングを自動化
            </a>
        </h1>
        <div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
          皆さんは画像を SNS や自身のブログなどに投稿する際に加工したことはないでしょうか？ Twitter では画像が自動的に 16:9 で表示されるため、あらかじめ 16:9 でトリミングしておくことでどのように表示されるかを調整できます。 トリミング機能は Android 版にはありますが Web 版にはないため、PC からの画像投稿のときに少し面倒に感じたりします。
画像編集の自動化といえば ImageMagick そこで GIMP などの画像編集ソフトが必要になりますが、私は ImageMagick を利用しています。 画像の加工を自動で行うためのコマンドラインが用意されており、たとえば以下のようにすれば png ファイルを一括で余白トリミングできます。 GIMP でいう「最小枠で切り抜き」機能ですね。
画像サイズを指定しての切り抜きは ImageMagick の crop オプションを使います。 座標 (X, Y) の位置で幅 W px、高さ H px のトリミングをするには以下のコマンドを打ちます。
しかし、残念ながら比率（16:9 など）の指定によるトリミングには対応していません。 そこで、比率指定によるトリミングのコマンドをシェルスクリプトで作りました。
trimrate コマンドを作ってみた 結論から言うと、比率指定によるトリミングコマンドを以下のように作りました。
このシェルスクリプトを trimrate というファイル名で保存します。 保存先は /usr/local/bin などのパスが通っているところが便利です。 そして chmod +x trimrate で実行権限を与えて以下の構文でトリミングを行います。
コマンドの動作的には、比率から切り抜きの幅高さを計算して ImageMagick の crop 機能を呼び出しているだけです。 デフォルトだと画像の上部でトリミングするため、-gravity center オプションを加えて中央でトリミングしています。
for 文で一括処理する trimrate コマンドだけだと mogrify のように複数のファイルを一括処理できません。 しかし、bash の for 文で画像ファイルごとに trimrate を実行して一括処理させることはできます。
        </div>
          <a href="https://b-hood.site/articles/trimrate/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
        
      </div>
    </div>
  </div>
</article>

          </div>
        
          <div class="relative w-100 mb4">
            
<article class="bb b--black-10">
  <div class="db pv4 ph3 ph0-l no-underline dark-gray">
    <div class="flex flex-column flex-row-ns">
      
      <div class="blah w-100">
        <h1 class="f3 fw1 athelas mt0 lh-title">
          <a href="https://b-hood.site/articles/webp/" class="color-inherit dim link">
            webp 画像形式でファイルサイズが 92% 削減された
            </a>
        </h1>
        <div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
          皆さんこんにちは 😀 私はいま作っているこのサイトでは、シンプルかつこだわりをもってあれこれやっているつもりです。 そのひとつとして、Google の PageSpeed Insightsというものを利用しています。 これはページの読み込み速度をスコアリングして、さらにスピードを改善するためのアドバイスもしてくれるすばらしいツールです。 ページスピードは Web 検索にも影響すると言われ、サイトを運営している方であれば多くの人が活用できるのではないでしょうか？ この記事では、読み込み速度改善の 1 つとしてWebp 画像形式の導入について紹介したいと思います。
まずはページスピードを測定 まずは自分の Web サイトの状況を確認するために、PageSpeed Insights を使います。 サイトの URL を入力して測定するだけで、数十秒後にはスコアが表示されると思います。 なお、PageSpeed Insights はモバイルと PC に分けて測定、スコアリングするため、両方確認する必要があります。
私のサイトでは、まず重要な箇所としてランディングページ (LP) の測定をしてみました。 LP には特にコンテンツもなく負荷が軽いので、スコア 90 点超えの良い結果となりました。
しかし、記事一覧ページでは 80 点台という標準的な結果でした。
こんなとき、Google はスピード改善のための提案をしてくれます。 そこに「次世代フォーマットでの画像の配信」というものがありました。 これは、Web サイトに埋め込まれている jpg や png などの形式の画像を、 jpeg2000 や Webp という画像形式に置き換えることで通信負荷が抑えられることを意味しています。 さらに、次世代フォーマットを導入することによるファイルサイズの削減量まで教えてくれるといういたわり尽くせリです。
Webp 形式に変換する というわけで、さっそく Web サイト中のあらゆる png, JPEG ファイルを Webp に変換してみました。 Ubuntu をお使いの方は、以下のコマンドで Webp に変換するコマンドをインストールできます。
そして、以下のコマンドで png, JPEG ファイルを一括で Webp ファイルに変換できます。 なお、cwebp コマンドは変換のクオリティがデフォルトで 80% に設定されています。 コマンドオプションを追加して、クオリティを変更することも可能です。
        </div>
          <a href="https://b-hood.site/articles/webp/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
        
      </div>
    </div>
  </div>
</article>

          </div>
        
      </section>

      
      <section class="w-100">
        <h1 class="f3">More</h1>
        
        
          <h2 class="f5 fw4 mb4 dib mr3">
            <a href="https://b-hood.site/articles/staticgen/" class="link black dim">
              「静的サイトジェネレータ」という言葉だけで静的サイトを作った話
            </a>
          </h2>
        
          <h2 class="f5 fw4 mb4 dib mr3">
            <a href="https://b-hood.site/articles/pre_commit/" class="link black dim">
              【CI】git commit 時に自動整形 &amp; コーディングチェックする
            </a>
          </h2>
        
          <h2 class="f5 fw4 mb4 dib mr3">
            <a href="https://b-hood.site/articles/gitwitter/" class="link black dim">
              【Git×Twitter】連携 &amp;amp; 通知してコミットの質を上げよう
            </a>
          </h2>
        
          <h2 class="f5 fw4 mb4 dib mr3">
            <a href="https://b-hood.site/articles/table-of-contents/" class="link black dim">
              【jQuery不要】JS で章番号 &amp; リンク付きの目次を自動生成する
            </a>
          </h2>
        

        
        
          <a href="https://b-hood.site/articles/" class="link db f6 pa2 br3 bg-mid-gray white dim w4 tc">All Articles</a>
        
        </section>
      

      </div>
  

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://b-hood.site/" >
    &copy;  hata6502 Tech Blog 2020 
  </a>
    <div>














</div>
  </div>
</footer>

    

  <script src="/dist/js/app.3fc0f988d21662902933.js"></script>


  </body>
</html>
